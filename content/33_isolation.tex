% vim:set ft=tex
\section{Isolation}
\label{design:isolation}

Fiasco.OC provides strong isolation and also real-time guarantees.
A requirement aware thread to core mapping can support these guarantees.
The following discusses security and real-time needs of applications and how to
manage these.

\paragraph{Security}
As presented in section \ref{state:related} even in virtualized environments
CPU cache is a valid side channel to attack secret information.
To reduce the channel's throughput, security critical applications should share
as little cache as possible with untrusted applications.
In Haswell's inclusive cache hierarchy, the \gls{llc} is shared among all
cores, but the L1 and L2 caches are core local.
However, their cache lines are included in the shared \gls{llc}.

As shown in \cite{inci_seriously_2015} and \cite{liu_last-level_2015}
the impact of placing security critical tasks on a seprate core is limited.
Still, a security core increases the difficulty for PRIME+PROBE attacks.
To completely mitigate this channel, no caches can be shared between the
security task and the attacker.
\\

The security requirement of a task is defined by the system design.
Therefore, a way to provide this static information to the load balancing
service is necessary.
It is also preferable to define specific security groups to separate different
security critical tasks or to place a group of related security tasks.
Hence, the configuration scheme must allow to define groups and identify the
same group in the configurations of different tasks.

This can be achieved by a per task configuration parameter identifying
different groups by name.


\paragraph{Real-Time}
A similar isolation guarantee is necessary for real-time tasks.
Real-time tasks need predictable execution times.
Through and exclusive core and cache, real-time tasks are not disturbed by best
effort workloads.
How many cores should be assigned to a real-time task group, depends on its
requirements.

As this is also known before runtime a static configuration can be used.
The configuration parameter must identify different groups by name
and display the physical core requirements.


\paragraph{Configuration}
% move to implementation?
The configuration parameters for security and real-time tasks are the
following:
\begin{lstlisting}
  sec = <Name>
  rt = <Name>_<number_of_cores>
\end{lstlisting}

Multicore support for real-time tasks is not provided at the current state of
the implementation.
If the number of \texttt{RT} and \texttt{SEC} groups is higher than the number
of physical cores the system will inform the user via an error message and shut
down.
