% vim:set ft=tex
\section{Isolation}
\label{design:isolation}

A microkernel provides strong isolation and also real-time guarantees.
A requirement aware thread to core mapping, can support these guarantees.
The following discusses security and real-time needs of applications and how to
manage these.

\paragraph{Security}
As presented in section \ref{state:related} even in virtualized environments
CPU cache is a valid side channel to attack secret keys.
To reduce the channel's throughput, security critical applications should share
as little cache as possible with unknown applications.
In Haswell's inclusive cache hierarchy, the \gls{llc} is shared among all
cores, but the L1 and L2 caches are core local.
However, their cache lines are included in the shared \gls{llc}.

As shown in \cite{inci_seriously_2015} and \cite{liu_last-level_2015}
the impact of a ``security core'' design is limited.
Still, a security core increases the difficulty for PRIME+PROBE attacks.
\\

The security requirement of a task is defined by the system design.
Therefore, a way to provide this static information to the load balancing
service is necessary.
It is also preferable to define specific security groups to separate different
security critical tasks or to place a group of related security tasks.
Hence, the configuration scheme must allow to define groups and identify the
same group in the configurations of different tasks.

This can be achieved by a per task configuration parameter identifying
different groups by name.


\paragraph{Real-Time}
Very similar isolation guarantee is necessary for real-time tasks.
The main difference is the possibility to assign more than one core to a
real-time task group.
If this is necessary depends on the group size and the tasks' requirements.
\todo{reason for multicore support}

The configuration parameter parameter must identify different groups by name
and their physical core requirements.




\paragraph{Configuration}
% move to implementation?
The configuration parameters for security and real-time tasks are the
following:
\begin{lstlisting}
  sec = <Name>
  rt = <Name>
\end{lstlisting}
Multicore support for real-time tasks is not provided at the current state of
the implementation.
Also, if the number of RT and SEC groups is higher than the number of physical
cores, or if core 0 is used the system will output an error message.
